(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{793:function(t,e,n){"use strict";n.r(e);n(15),n(11),n(10),n(9),n(8),n(13);var r=n(5),l=n(7);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={layout:"member",transition:"myteam",components:{AppHeader:n(101).a},data:function(){return{ulWidth:"0px",filterIndex:1,isFilter:!1,reloadBtnLock:!1,userName:"",entryTime:void 0}},computed:c(c(c({},Object(l.c)("team",["data","list","searchCondition"])),Object(l.c)("my",["memberInfo"])),{},{showLevel:function(){return this.memberInfo.levelDisplay}}),watch:{},created:function(){this.getMemberInfo(),this.getUserBasicInfo(),this.getMemberClass()},mounted:function(){this.entryTime=new Date,this.getUlElementWidth()},beforeDestroy:function(){this.$dataAnalysis("my_team_stay_time","stay_time","sec",.001*(new Date-this.entryTime))},destroyed:function(){this.initalStateData(),this.initalSearchCondition()},methods:c(c(c({},Object(l.b)("my",["getMemberInfo"])),Object(l.b)("team",["getUserBasicInfo","getMemberClass","followMember","setFilterType","setLevelIndex","setSort","setUsername","setPage","doReload","collapse","switchToolsState","initalStateData","initalSearchCondition"])),{},{levelPrev:function(){var t=this.getLevelElememtInfo(),e=t.wrapLiWidth,n=t.scrollLeft;0!==n&&(n>4*e&&n<=5*e&&this.setScrollLEffect(4*e),n>0&&n<=4*e&&this.setScrollLEffect(0))},levelNext:function(){var t=this.getLevelElememtInfo(),e=t.wrapLiWidth,n=t.scrollLeft;n!==5*e&&(n>=0&&n<4*e&&this.setScrollLEffect(4*e),n>=4*e&&n<5*e&&this.setScrollLEffect(5*e))},setScrollLEffect:function(t){document.querySelector(".level-wrap").scrollLeft=t},getLevelElememtInfo:function(){var t=document.querySelector(".level-wrap"),e=t.offsetWidth,n=document.querySelector(".level-wrap li");return{wrap:t,wrapWidth:e,wrapLi:n,wrapLiWidth:n.offsetWidth,scrollLeft:t.scrollLeft}},getUlElementWidth:function(){var t=this.getLevelElememtInfo().wrapWidth,e=document.querySelector("#level_group").children.length;this.ulWidth="".concat(t/4*e,"px")},typeUserName:function(t){this.userName=t.target.value},deleteUserName:function(){this.setUsername({username:""}),this.userName=""},search:function(){this.setUsername({username:this.userName}),this.getMemberClass(),this.btnClick("isSearch")},btnClick:function(t){this.switchToolsState({target:t})},filterConfirm:function(){this.setFilterType({filter:this.filterIndex}),this.switchToolsState({target:"isFilter",value:!1}),this.isFilter=!1},reload:function(){this.doReload(),this.reloadCounter(),this.reloadBtnLock=!0},reloadCounter:function(){var time=(new Date).getTime(),t=this.data.reload.endTime;t-time>0?(this.$refs.reloadStr.value=((t-time)/1e3).toFixed(),setTimeout(this.reloadCounter,1e3)):(this.$refs.reloadStr.value="更新",this.reloadBtnLock=!1)}})},v=n(2),component=Object(v.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[!1===t.isFilter?[n("app-header",{attrs:{title:"我的团队","back-enable":!0,desc:"myteam",guide:"team"}},[n("template",{slot:"suffix"},[n("div",{staticClass:"active",attrs:{id:"my_team_organization"}},[n("div",{staticClass:"team_level_row"},[n("div",{staticClass:"left"},[n("div",{staticClass:"photo"},[n("span",[n("img",{attrs:{src:t.data.avatarUrl}})])])]),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"online_member"},[n("nuxt-link",{attrs:{to:"/online",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.navigate;return[t._t("default",[n("button",{on:{click:r}},[t._v("\n                        线上会员：\n                        "+t._s(t._f("currency")(t.data.onlineMembers))+"\n                      ")])])]}}],null,!0)})],1),t._v(" "),n("div",{staticClass:"level-box"},[n("button",{staticClass:"arrow-icon prev",on:{click:t.levelPrev}}),t._v(" "),n("button",{staticClass:"arrow-icon next",on:{click:t.levelNext}}),t._v(" "),n("div",{staticClass:"level-wrap"},[n("ul",{style:{width:""+t.ulWidth},attrs:{id:"level_group"}},t._l(t.list.level,(function(e,r){return n("li",{key:r,class:{on:r===t.searchCondition.levelIndex}},[n("button",{attrs:{disabled:e.disabled},on:{click:function(e){return t.setLevelIndex({levelIndex:r})}}},[n("i",[t._v(t._s(e.value))])])])})),0)])])])]),t._v(" "),n("div",{class:["lv"+t.data.level,"nomargin"],attrs:{id:"user_name_panel"}},[t.showLevel?n("div",{staticClass:"medals"}):t._e(),t._v(" "),t.showLevel?n("div",{staticClass:"lv"}):t._e(),t._v(" "),n("div",{attrs:{id:"user_name"}},[t._v(t._s(t.data.nickName))])]),t._v(" "),n("div",{staticClass:"member_filter"},[n("span",[t._v("会员ID:"+t._s(t.data.username))]),t._v(" "),n("div",{staticClass:"sequence"},[n("button",{staticClass:"up",class:{on:t.searchCondition.isAcs},on:{click:function(e){return t.setSort({sort:2})}}}),t._v(" "),n("button",{staticClass:"down",class:{on:t.searchCondition.isDesc},on:{click:function(e){return t.setSort({sort:1})}}})]),t._v(" "),n("div",{staticClass:"filter"},[n("button",{staticClass:"search_btn",class:{on:t.searchCondition.isSearch},on:{click:function(e){return t.btnClick("isSearch")}}},[t._v("\n                "+t._s(t.searchCondition.searchBtnText)+"\n              ")]),t._v(" "),n("button",{staticClass:"filter_btn",class:{on:t.searchCondition.isFilter},on:{click:function(e){t.btnClick("isFilter"),t.isFilter=!0}}},[t._v("\n                筛选条件\n              ")])])])]),t._v(" "),n("div",{class:{no_show:!t.searchCondition.isSearch},attrs:{id:"searchBar"}},[n("div",{staticClass:"search_member"},[n("input",{attrs:{id:"search_account",type:"text",placeholder:"请输入会员帐号"},domProps:{value:t.searchCondition.searchText},on:{input:t.typeUserName}}),t._v(" "),n("button",{staticClass:"del_input_btn",class:{show:t.searchCondition.cancelBtn},on:{click:t.deleteUserName}},[t._v("×")])]),t._v(" "),n("div",{attrs:{id:"search_btn"}},[n("button",{on:{click:t.search}},[t._v("确认")])])]),t._v(" "),n("div",{staticClass:"shadow",attrs:{id:"summaryBar"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"icon sigma"}),t._v(" "),n("div",{staticClass:"part"},[n("span",[t._v("第"+t._s(t.searchCondition.levelStr)+"总人数:")]),t._v(" "),n("b",[t._v(t._s(t._f("currency")(t.data.member.total)))])])])])])],2),t._v(" "),n("main",{staticClass:"my_team"},[n("div",{staticClass:"team_tools_row",class:{show:t.searchCondition.showTools}},[n("div",{staticClass:"filter_result"},[t.searchCondition.showFilterResult?n("span",[t._v("筛选结果: "+t._s(t.searchCondition.filterText))]):t._e()]),t._v(" "),n("input",{ref:"reloadStr",staticClass:"reload_btn",class:{lock:t.reloadBtnLock},attrs:{type:"button",value:"更新"},on:{click:t.reload}})]),t._v(" "),t.searchCondition.showMemberList?n("ul",{staticClass:"member_list my_team"},[t._l(t.data.member.list,(function(e,r){var l;return n("li",{key:r},[n("div",{staticClass:"member_card",class:(l={},l["lv"+e.lv]=e.lv>0,l.follow=e.follow,l.open=e.collapse,l)},[n("div",{staticClass:"card_photo",on:{click:function(e){return t.collapse({index:r})}}},[n("div",{staticClass:"photo photo_btn",class:{online:e.online}},[n("span",[n("img",{attrs:{src:e.profile_url}})])])]),t._v(" "),n("div",{staticClass:"card_info"},[n("span",[t._v(t._s(e.nickname))]),t._v(" "),n("div",{staticClass:"card_id"},[t._v("会员ID:"+t._s(e.username))]),t._v(" "),n("div",{staticClass:"card_up_level"},[t._v("总额度:"+t._s(t._f("currency")(e.total_amount,2)))]),t._v(" "),n("div",{staticClass:"card_transaction"},[t._v("交易金额:"+t._s(t._f("currency")(e.sum_dealmoney,2)))]),t._v(" "),n("div",{staticClass:"more_info"},[n("div",{staticClass:"card_recharge"},[t._v("充值金额:"+t._s(t._f("currency")(e.savedAmount,2)))]),t._v(" "),n("div",{staticClass:"card_up_level"},[t._v("上阶:"+t._s(e.parent_nickname))])])]),t._v(" "),n("div",{staticClass:"card_follow"},[t._v("\n              注册时间:"+t._s(e.activedate)+"\n              "),n("span",{on:{click:function(n){return t.followMember({index:r,userId:e.user_id,follow:!e.follow})}}})])])])})),t._v(" "),t.searchCondition.showMoreBtn?n("div",{staticClass:"morebox"},[n("button",{staticClass:"more_btn",on:{click:t.setPage}},[t._v("另外"+t._s(t.searchCondition.remainingPages)+"位......")])]):t._e()],2):t._e(),t._v(" "),n("div",{staticClass:"no_data",class:{show:t.searchCondition.showNoData}},[t._v("查无资料")])])]:[n("app-header",{attrs:{title:"筛选条件","back-enable":!0,"back-custom":!0,"header-class":"header_white",desc:"myteamfilter"},on:{back:function(e){t.isFilter=!1}}}),t._v(" "),n("main",[n("div",{staticClass:"filter_container"},[n("ul",{staticClass:"filter_radio"},t._l(t.list.filter,(function(e,r){return n("li",{key:r},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterIndex,expression:"filterIndex"}],attrs:{id:"filter_"+r,type:"radio",checked:"checked"},domProps:{value:e.value,checked:t._q(t.filterIndex,e.value)},on:{change:function(n){t.filterIndex=e.value}}}),t._v(" "),n("label",{attrs:{for:"filter_"+r}},[t._v(t._s(e.text))])])})),0),t._v(" "),n("div",{staticClass:"btn_container"},[n("button",{on:{click:t.filterConfirm}},[t._v("确 认")])])])])]],2)}),[],!1,null,null,null);e.default=component.exports}}]);