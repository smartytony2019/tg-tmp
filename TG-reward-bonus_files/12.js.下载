(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{608:function(t,e,n){"use strict";var r={props:{overflow:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}},target:{type:String,default:""},category:{type:String,default:""},default:{type:String,default:""}},data:function(){return{width:0,left:0}},computed:{containerStyle:function(){return this.overflow?"date_select":"tab_select"},spanStyle:function(){return{width:"".concat(this.width,"px"),left:"".concat(this.left,"px")}}},watch:{target:{handler:function(t){var e=this;if(""===t)return this.width=0,void(this.left=0);this.$nextTick((function(){var t=document.querySelector(".select_tabs button.active");e.width=t.offsetWidth,e.left=t.offsetLeft,document.querySelector(".".concat(e.containerStyle)).scrollTo({left:e.left})}))},immediate:!0}},mounted:function(){this.$emit("update:target",this.default)},methods:{itemClick:function(t){this.category&&this.$dataAnalysis("".concat(this.category).concat(t)),t!==this.target&&this.$emit("update:target",t)}}},o=n(2),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.containerStyle},[n("div",{staticClass:"select_tabs"},[n("span",{style:t.spanStyle}),t._v(" "),t._l(t.items,(function(e){return n("button",{key:e.value,class:{active:e.value===t.target},on:{click:function(n){return t.itemClick(e.value)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}))],2)])}),[],!1,null,null,null);e.a=component.exports},610:function(t,e,n){"use strict";n(102),n(33);var pattern=/[a-zA-Z0-9]*/,r=/\s+/g,o={props:{account:{type:String,default:""},filter:{type:Boolean,default:!1}},computed:{input:{get:function(){return this.account},set:function(t){this.$emit("update:account",t)}}},methods:{clear:function(){this.input=""},submit:function(){this.$emit("submit")},keyup:function(){var t=this.input;t=t.replace(r,""),this.input=t.match(pattern)[0]},filterClick:function(){this.$emit("filter")}}},c=n(2),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"searchBar"}},[n("div",{staticClass:"search_member"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"text",placeholder:"请输入会员帐号",maxlength:"6"},domProps:{value:t.input},on:{keyup:t.keyup,blur:t.keyup,input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),n("button",{staticClass:"del_input_btn",class:{show:t.input.length>0},on:{click:t.clear}},[t._v("×")])]),t._v(" "),n("div",{attrs:{id:"search_btn"}},[n("button",{on:{click:t.submit}},[t._v("确认")])]),t._v(" "),t.filter?[n("div",{staticClass:"search_filter"},[n("button",{on:{click:t.filterClick}},[t._v("筛选条件")])])]:t._e()],2)}),[],!1,null,null,null);e.a=component.exports},611:function(t,e,n){"use strict";n(289);var r=n(0),o=n.n(r),pattern="YYYY-MM-DD",c={props:{label:{type:String,default:""},infoStart:{type:String,default:""},infoEnd:{type:String,default:""},custom:{type:Number,default:-1},queryStart:{type:String,default:""},queryEnd:{type:String,default:""},max:{type:String,default:""},min:{type:String,default:""}},data:function(){return{start:"",end:""}},computed:{valid:function(){return this.start.length>0&&this.end.length>0&&o()(this.start).isBefore(this.end)},startMax:function(){var t=0===this.end.length?this.max:this.end;return o()(t).subtract(1,"days").format(pattern)},endMin:function(){var t=0===this.start.length?this.min:this.start;return o()(t).add(1,"days").format(pattern)}},watch:{start:function(t){t.length>0&&(this.start=o()(t).format(pattern))},end:function(t){t.length>0&&(this.end=o()(t).format(pattern))}},methods:{submit:function(){!1!==this.valid&&(this.$emit("update:queryStart",this.start),this.$emit("update:queryEnd",this.end),this.$emit("submit"))},reset:function(){this.start="",this.end="",this.$emit("update:queryStart",""),this.$emit("update:queryEnd",""),this.$emit("reset")}}},l=n(2),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date_range",class:{custom:0===t.custom}},[n("div",{staticClass:"date_custom",class:{show:0!==t.custom}},[1===t.custom?n("button",{on:{click:t.reset}}):t._e(),t._v("\n    "+t._s(t.label)+"\n    "),t.infoStart?[t._v(t._s(t._f("moment")(t.infoStart,"MM-DD HH:mm")))]:t._e(),t._v("\n    ~\n    "),t.infoEnd?[t._v(t._s(t._f("moment")(t.infoEnd,"MM-DD HH:mm")))]:t._e()],2),t._v(" "),0===t.custom?n("div",{staticClass:"select_time"},[n("datetime",{attrs:{"week-start":7,format:"MM-dd","input-id":"start_date","value-zone":"local","min-datetime":t.min,"max-datetime":t.startMax},model:{value:t.start,callback:function(e){t.start=e},expression:"start"}}),t._v(" "),n("b",[t._v("~")]),t._v(" "),n("datetime",{attrs:{"week-start":7,format:"MM-dd","input-id":"end_date","value-zone":"local","min-datetime":t.endMin,"max-datetime":t.max},model:{value:t.end,callback:function(e){t.end=e},expression:"end"}}),t._v(" "),n("div",{staticClass:"date_send"},[n("button",{class:{show:t.valid},on:{click:t.submit}},[t._v("查询")])])],1):t._e()])}),[],!1,null,null,null);e.a=component.exports},779:function(t,e,n){"use strict";n.r(e);n(15),n(11),n(10),n(9),n(8),n(13),n(26),n(105);var r=n(5),o=n(7),header=n(101),c=n(610),l=n(608),v=n(611),d={props:{sigma:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1}},methods:{prev:function(){this.$emit("prev")},next:function(){this.$emit("next")}}},m=n(2),f=Object(m.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shadow",attrs:{id:"summaryBar"}},[n("div",{staticClass:"summaryBar-row"},[t.left?n("div",{staticClass:"icon left",on:{click:t.prev}}):t._e(),t._v(" "),n("div",{staticClass:"content",class:{full:!1===t.left&&!1===t.right}},[t.sigma?n("div",{staticClass:"icon sigma"}):t._e(),t._v(" "),n("div",{staticClass:"part"},[n("span",[t._t("title1")],2),t._v(" "),n("b",[t._t("value1")],2)]),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("div",{staticClass:"part"},[n("span",[t._t("title2")],2),t._v(" "),n("b",[t._t("value2")],2)])]),t._v(" "),t.right?n("div",{staticClass:"icon right",on:{click:t.next}}):t._e()])])}),[],!1,null,null,null).exports,_=n(6);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={layout:"member",transition:"history",components:{AppHeader:header.a,SearchBar:c.a,TabSelect:l.a,DatePicker:v.a,SummaryBar:f},data:function(){return{account:"",time:"",start:"",end:"",currentLevel:-1,jumpShow:!1,floors:[],infoPage:0,custom:-1,init:"",entryTime:void 0}},computed:y(y(y({},Object(o.c)("finance",["historyTransaction"])),Object(o.e)("finance",["query"])),{},{times:function(){return _.f},groups:function(){return this.historyTransaction.groups},limit:function(){return this.historyTransaction.limit},info:function(){return this.historyTransaction.info},summary:function(){return this.historyTransaction.summary},currentItem:function(){var t=this,e=this.groups.find((function(e){return e.level===t.currentLevel}));return{level:void 0===e?"":e.level,ratio:void 0===e?"":e.ratio}},category:function(){return"finance_"}}),watch:{groups:function(t,e){t.length>0&&0===e.length&&(this.currentLevel=t[0].level),0===t.length&&(this.currentLevel=-1),t.length>0&&-1===this.currentLevel&&(this.currentLevel=t[0].level)},time:function(t){this.start="",this.end="",this.page=1,this.account="","set_self"!==t?(this.custom=-1,this.getData()):this.custom=0},custom:function(t){0===t&&""!==this.query.start_date&&""!==this.query.end_date&&(this.start=this.query.start_date,this.end=this.end.end_date,this.custom=1,this.getData())}},created:function(){this.init=""===this.query.time_tag?"today":this.query.time_tag},mounted:function(){this.entryTime=new Date},beforeDestroy:function(){this.$dataAnalysis("finance_stay_time","stay_time","sec",.001*(new Date-this.entryTime))},methods:y(y(y(y({},Object(o.b)("finance",["getMyAccountingPosted","getMyAccountingPostedMore"])),Object(o.d)("finance",["setQuery"])),Object(o.b)("message",["showMessage"])),{},{accountSubmit:function(){this.getData()},submit:function(){this.custom=1,this.getData()},getData:function(){this.account.length>0&&this.account.length<5?this.showMessage({content:"请输入正确完整帐号"}):(this.setQuery({time_tag:this.time,start_date:this.start,end_date:this.end}),this.getMyAccountingPosted({account:this.account,time:this.time,start:this.start,end:this.end}))},more:function(t){var e=t.page,n=t.level;this.getMyAccountingPostedMore({time:this.time,page:e+1,level:n,start:this.start,end:this.end})},activeGroup:function(t){return t===this.currentLevel},groupScroll:function(t){var e=this.$refs.groups.scrollTop,n=Array.apply(null,document.querySelectorAll(".group")).map((function(t){var n=t.offsetTop,r=t.clientHeight;return e>=n&&e<n+r})).indexOf(!0);-1!==n&&(this.currentLevel=this.groups[n].level)},showJump:function(){var t=this.$refs.groups,e=t.clientHeight,n=t.scrollTop;this.floors=[];for(var r=this.groups.map((function(t){return t.level})),a={start:n,end:n+e},i=0;i<r.length;i++){var o,c=r[i],l=document.querySelector(".group".concat(c)),b={start:l.offsetTop,end:l.offsetTop+l.clientHeight},v=void 0,d=void 0;a.start<b.start?(v=a,d=b):(v=b,d=a),o=v.end>d.start,this.floors.push({level:c,active:o,top:l.offsetTop})}this.jumpShow=!0},jump:function(t){this.$refs.groups.scrollTo({top:t,behavior:"smooth"}),this.jumpShow=!1},reset:function(){this.custom=0},next:function(){this.infoPage++},prev:function(){this.infoPage--},itemClick:function(t){this.$router.push({path:"/finance/history/".concat(t)})}})},C=Object(m.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("app-header",{attrs:{title:"历史报表","header-class":"header_white","back-enable":!0,desc:"finance3",guide:"history"}},[n("template",{slot:"suffix"},[n("tab-select",{attrs:{items:t.times,target:t.time,default:t.init,overflow:!0,category:t.category},on:{"update:target":function(e){t.time=e}}}),t._v(" "),n("search-bar",{attrs:{account:t.account},on:{"update:account":function(e){t.account=e},submit:t.accountSubmit}}),t._v(" "),n("date-picker",{attrs:{label:t._f("timeLabel")(t.time),"info-start":t.info.start,"info-end":t.info.end,custom:t.custom,"query-start":t.start,"query-end":t.end,min:t.limit.min,max:t.limit.max},on:{"update:queryStart":function(e){t.start=e},"update:query-start":function(e){t.start=e},"update:queryEnd":function(e){t.end=e},"update:query-end":function(e){t.end=e},submit:t.submit,reset:t.reset}}),t._v(" "),n("summary-bar",{directives:[{name:"show",rawName:"v-show",value:0===t.infoPage,expression:"infoPage === 0"}],attrs:{sigma:!0,right:!0},on:{next:t.next}},[n("template",{slot:"title1"},[t._v("直推奖金")]),t._v(" "),n("template",{slot:"value1"},[t._v(t._s(t._f("currency")(0===t.custom?0:t.summary.rewardDirect,2)))]),t._v(" "),n("template",{slot:"title2"},[t._v("团队奖金")]),t._v(" "),n("template",{slot:"value2"},[t._v(t._s(t._f("currency")(0===t.custom?0:t.summary.rewardTeam,2)))])],2),t._v(" "),n("summary-bar",{directives:[{name:"show",rawName:"v-show",value:1===t.infoPage,expression:"infoPage === 1"}],attrs:{left:!0,right:!0},on:{prev:t.prev,next:t.next}},[n("template",{slot:"title1"},[t._v("注单笔数")]),t._v(" "),n("template",{slot:"value1"},[t._v(t._s(t._f("currency")(0===t.custom?0:t.summary.orderCount)))]),t._v(" "),n("template",{slot:"title2"},[t._v("交易金额")]),t._v(" "),n("template",{slot:"value2"},[t._v(t._s(t._f("currency")(0===t.custom?0:t.summary.betAmount,2)))])],2),t._v(" "),n("summary-bar",{directives:[{name:"show",rawName:"v-show",value:2===t.infoPage,expression:"infoPage === 2"}],attrs:{left:!0},on:{prev:t.prev}},[n("template",{slot:"title1"},[t._v("有效投注量")]),t._v(" "),n("template",{slot:"value1"},[t._v(t._s(t._f("currency")(0===t.custom?0:t.summary.winAmount,2)))]),t._v(" "),n("template",{slot:"title2"},[t._v("实货量")]),t._v(" "),n("template",{slot:"value2"},[t._v(t._s(t._f("currency")(0===t.custom?0:t.summary.credit,2)))])],2)],1)],2),t._v(" "),t.jumpShow?n("div",{staticClass:"jumpLevel",on:{click:function(e){t.jumpShow=!1}}},t._l(t.floors,(function(e){return n("div",{key:e.level,staticClass:"level",class:{active:e.active},on:{click:function(n){return t.jump(e.top)}}},[t._v("\n      第"+t._s(e.level)+"阶\n    ")])})),0):t._e(),t._v(" "),n("main",{staticClass:"finance"},[0!==t.custom&&t.groups.length>0?n("div",{staticClass:"levelTip"},[n("div",{staticClass:"part",on:{click:t.showJump}},[n("span",{staticClass:"title"},[t._v("第 "+t._s(t.currentItem.level)+" 阶")]),t._v(" "),n("div",{staticClass:"icon arrow_down"}),t._v(" "),n("span",[t._v("千分之 "+t._s(t.currentItem.ratio))])]),t._v(" "),t._m(0)]):t._e(),t._v(" "),n("div",{ref:"groups",staticClass:"groups",on:{scroll:t.groupScroll}},[n("div",{staticClass:"no_data",class:{show:0===t.custom}},[t._v("请选择日期")]),t._v(" "),n("div",{staticClass:"no_data",class:{show:0!==t.custom&&0===t.groups.length}},[t._v("暂无资料")]),t._v(" "),0!==t.custom?t._l(t.groups,(function(e){return n("div",{key:e.level,staticClass:"group",class:["group"+e.level,{active:t.activeGroup(e.level)}]},[t._l(e.users,(function(e,r){return n("div",{key:r,staticClass:"transaction",on:{click:function(n){return t.itemClick(e.uid)}}},[n("div",{staticClass:"tag"}),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"row"},[n("span",{staticClass:"flex2 bold"},[t._v(t._s(e.alias)+" "+t._s(e.account))]),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("span",[t._v("交易金额:")]),t._v(" "),n("span",[t._v(t._s(t._f("currency")(e.betAmount,2)))])]),t._v(" "),n("div",{staticClass:"row"},[n("span",[t._v("注单笔数:")]),t._v(" "),n("span",[t._v(t._s(t._f("currency")(e.orderCount)))]),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("span",[t._v("有效投注量:")]),t._v(" "),n("span",[t._v(t._s(t._f("currency")(e.winAmount,2)))])]),t._v(" "),n("div",{staticClass:"row under"},[n("span",[t._v("结果:")]),t._v(" "),n("span",{staticClass:"extra_bold bold",class:{green:e.result>0,red:e.result<0}},[t._v(t._s(t._f("currency")(e.result,2)))]),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("span",[t._v("实货量:")]),t._v(" "),n("span",[t._v(t._s(t._f("currency")(e.credit,2)))])]),t._v(" "),n("div",{staticClass:"row"},[n("span",{staticClass:"bold"},[t._v("直推奖金:")]),t._v(" "),n("span",{staticClass:"bold extra_bold"},[t._v(t._s(t._f("currency")(e.rewardDirect,2)))]),t._v(" "),n("div",{staticClass:"spacer"}),t._v(" "),n("span",{staticClass:"bold"},[t._v("团队奖金:")]),t._v(" "),n("span",{staticClass:"bold extra_bold"},[t._v(t._s(t._f("currency")(e.rewardTeam,2)))])])])])})),t._v(" "),e.page<e.pageMax?n("div",{staticClass:"morebox",on:{click:function(n){return t.more(e)}}},[n("button",{staticClass:"more_btn"},[t._v("另外"+t._s(e.left)+"笔......")])]):t._e()],2)})):t._e()],2)])],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"part end"},[n("span",[t._v("每日下午计算前一天")])])}],!1,null,null,null);e.default=C.exports}}]);